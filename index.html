<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Kinetic Text Clock</title>
  <style>
    :root {
      --bg-color: #1a1a1a;
      --clock-face: #222;
      --hand-color: #eee;
      --clock-size: 16px;
      --transition-speed: 0.8s;
      --accent-color: #00d2ff;
    }

    body {
      background-color: var(--bg-color);
      margin: 0;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      font-family: 'Courier New', Courier, monospace;
      overflow: hidden;
      color: #fff;
    }

    body::before {
      content: "";
      position: fixed;
      inset: 0;
      background:
        radial-gradient(circle at center, rgba(255, 187, 0, 0.08), transparent 60%);
      pointer-events: none;
    }


    .display-container {
      display: flex;
      gap: calc(var(--clock-size) * 0.75);
      padding: 30px;
      background: #111;
      border-radius: 20px;
      box-shadow: 0 20px 50px rgba(0, 0, 0, 0.6);
      max-width: 98vw;
      overflow-x: auto;
    }

    .digit-grid {
      display: grid;
      grid-template-columns: repeat(8, var(--clock-size));
      grid-template-rows: repeat(12, var(--clock-size));
      gap: 1px;
    }

    .clock {
      width: var(--clock-size);
      height: var(--clock-size);
      background-color: var(--clock-face);
      border-radius: 50%;
      position: relative;
      background: radial-gradient(circle at 30% 30%, #2b2b2b, #151515);
    }

    .hand {
      position: absolute;
      background-color: var(--hand-color);
      left: 50%;
      bottom: 50%;
      width: 3px;
      height: 50%;
      transform-origin: bottom center;
      border-radius: 1.5px;
      will-change: transform;
      transition: all var(--transition-speed) cubic-bezier(0.5, 0, 0.2, 1);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
      background-color: rgb(58, 58, 58);
    }

    .hand.active {
      background-color: white;
    }

    .hand.hour {
      z-index: 2;
    }

    .hand.minute {
      z-index: 1;
    }
  </style>
</head>

<body>

  <div class="display-container" id="display"></div>

  <script>
    // --- CONFIGURATION ---
    // 0=Top, 90=Right, 180=Bottom, 270=Left
    // IDLE is Bottom-Left (225)
    const ANGLES = {
      '|': [0, 180],      // Vertical line
      '-': [90, 270],     // Horizontal line
      'r': [90, 180],     // Top-left corner (┌)
      '7': [180, 270],    // Top-right corner (┐)
      'L': [0, 90],       // Bottom-left corner (└)
      'J': [0, 270],      // Bottom-right corner (┘)
      '>': [0, 90],       // Left T-junction (├)
      '<': [0, 270],      // Right T-junction (┤)
      '^': [90, 270],     // Bottom T (┴)
      'v': [90, 270],     // Top T (┬)
      '.': [225, 225]     // Idle (both hands hidden)
    };

    // 8x12 Grid Character Maps (96 clocks per character)
    // Block digits with 2-cell thick strokes
    const CHAR_MAP = {
      '0': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '7', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '1': [
        '.', '.', '.', '.', '.', 'r', '-', '7',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', 'L', '-', 'J'
      ],
      '2': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        'r', '-', '-', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '-', '-', 'J',
        '|', '.', '|', '.', '.', '.', '.', '.',
        '|', '.', '|', '.', '.', '.', '.', '.',
        '|', '.', 'L', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '3': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', 'r', '-', '-', '-', 'J', '.', '|',
        '.', '|', '.', '.', '.', '.', '.', '|',
        '.', 'L', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        'r', '-', '-', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '4': [
        'r', '-', '7', '.', '.', 'r', '-', '7',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', 'L', '-', 'J'
      ],
      '5': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '-', '-', 'J',
        '|', '.', '|', '.', '.', '.', '.', '.',
        '|', '.', 'L', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        'r', '-', '-', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '6': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '-', '-', 'J',
        '|', '.', '|', '.', '.', '.', '.', '.',
        '|', '.', 'L', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '7', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '7': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', 'L', '-', 'J'
      ],
      '8': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '7', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', 'r', '-', '-', '7', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      '9': [
        'r', '-', '-', '-', '-', '-', '-', '7',
        '|', '.', '.', '.', '.', '.', '.', '|',
        '|', '.', 'r', '-', '-', '7', '.', '|',
        '|', '.', '|', '.', '.', '|', '.', '|',
        '|', '.', 'L', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '7', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        '.', '.', '.', '.', '.', '|', '.', '|',
        'r', '-', '-', '-', '-', 'J', '.', '|',
        '|', '.', '.', '.', '.', '.', '.', '|',
        'L', '-', '-', '-', '-', '-', '-', 'J'
      ],
      ':': [
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', 'r', '-', '-', '7', '.', '.',
        '.', '.', '|', '.', '.', '|', '.', '.',
        '.', '.', '|', '.', '.', '|', '.', '.',
        '.', '.', 'L', '-', '-', 'J', '.', '.',
        '.', '.', 'r', '-', '-', '7', '.', '.',
        '.', '.', '|', '.', '.', '|', '.', '.',
        '.', '.', '|', '.', '.', '|', '.', '.',
        '.', '.', 'L', '-', '-', 'J', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.'
      ],
      ' ': [
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.',
        '.', '.', '.', '.', '.', '.', '.', '.'
      ]
    };

    // --- SYSTEM LOGIC ---

    class KineticClock {
      constructor(parentElement, index) {
        this.container = document.createElement('div');
        this.container.className = 'clock';
        this.hourHand = document.createElement('div');
        this.hourHand.className = 'hand hour';
        this.minuteHand = document.createElement('div');
        this.minuteHand.className = 'hand minute';
        this.container.appendChild(this.hourHand);
        this.container.appendChild(this.minuteHand);
        parentElement.appendChild(this.container);
        const delay = index * 0.002; // seconds
        this.hourHand.style.transitionDelay = `${delay}s`;
        this.minuteHand.style.transitionDelay = `${delay}s`;

        this.setAngles(0, 0);
      }

      setAngles(h, m) {
        this.hourHand.style.transform = `rotate(${h}deg)`;
        this.minuteHand.style.transform = `rotate(${m}deg)`;
        this.hourHand.classList.toggle('active', h !== 225);
        this.minuteHand.classList.toggle('active', m !== 225);
      }
      spin(delay) {
        setTimeout(() => {
          this.hourHand.style.transform = `rotate(360deg)`;
          this.minuteHand.style.transform = `rotate(720deg)`;
        }, delay);
      }
    }

    class DigitGrid {
      constructor(parentElement) {
        this.grid = document.createElement('div');
        this.grid.className = 'digit-grid';
        parentElement.appendChild(this.grid);
        this.clocks = [];
        // 8x12 = 96 clocks
        for (let i = 0; i < 96; i++) {
          this.clocks.push(new KineticClock(this.grid, i));
        }
      }

      renderChar(char) {
        const pattern = CHAR_MAP[char] || CHAR_MAP[' '];
        pattern.forEach((symbol, index) => {
          const angles = ANGLES[symbol] || ANGLES['.'];
          this.clocks[index].setAngles(angles[0], angles[1]);
        });
      }
      spinWave(digitIndex) {
        this.clocks.forEach((clock, i) => {
          const col = i % 8;
          const colPair = Math.floor(col / 2); // 0-3 within digit
          const globalColPair = digitIndex * 4 + colPair; // 0-31 total
          const delay = globalColPair * 80; // 80ms between each pair
          clock.spin(delay);
        });
      }
    }

    // --- INITIALIZATION ---

    const displayContainer = document.getElementById('display');
    const digits = [];
    const NUM_SLOTS = 8;

    for (let i = 0; i < NUM_SLOTS; i++) {
      digits.push(new DigitGrid(displayContainer));
    }
    // Trigger the wave spin
    digits.forEach((digit, i) => digit.spinWave(i));
    const randomHour = Math.floor(Math.random() * 12) + 1;
    const randomMinute = Math.floor(Math.random() * 60);
    const randomSecond = Math.floor(Math.random() * 60);

    // Render random time instantly
    updateTime()

    function renderTime(h, m, s) {
      h = h % 12;
      h = h ? h : 12;

      const hStr = h.toString().padStart(2, '0');
      const mStr = m.toString().padStart(2, '0');
      const sStr = s.toString().padStart(2, '0');

      digits[0].renderChar(hStr[0]);
      digits[1].renderChar(hStr[1]);
      digits[2].renderChar(':');
      digits[3].renderChar(mStr[0]);
      digits[4].renderChar(mStr[1]);
      digits[5].renderChar(':');
      digits[6].renderChar(sStr[0]);
      digits[7].renderChar(sStr[1]);
    }

    function updateTime() {
      const now = new Date();
      let h = now.getHours();
      let m = now.getMinutes();
      let s = now.getSeconds();

      h = h % 12;
      h = h ? h : 12;

      const hStr = h.toString().padStart(2, '0');
      const mStr = m.toString().padStart(2, '0');
      const sStr = s.toString().padStart(2, '0');

      digits[0].renderChar(hStr[0]);
      digits[1].renderChar(hStr[1]);
      digits[2].renderChar(':');
      digits[3].renderChar(mStr[0]);
      digits[4].renderChar(mStr[1]);
      digits[5].renderChar(':');
      digits[6].renderChar(sStr[0]);
      digits[7].renderChar(sStr[1]);
    }

    // Animate to the real time after startup
    setTimeout(() => {
      updateTime();

      // Start normal ticking AFTER the first animation
      setInterval(updateTime, 1000);
    }, 3500); // match --transition-speed

  </script>
</body>

</html>